<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>XHR Example</title>
  </head>
  <style></style>
  <body>
    <h1>XHR Example</h1>
    <button onclick="getUser()">Get User (XHR)</button>
    <div id="user"></div>
  </body>
  <script>
    function getUser() {
      var xhr = new XMLHttpRequest();

      xhr.open("GET", "https://randomuser.me/api/");

      xhr.onload = () => {
        if (xhr.status >= 200 && xhr.status < 300) {
          var data = JSON.parse(xhr.responseText);
          displayUser(data.results[0]);
        } else {
          console.error("XHR Error:", xhr.status);
        }
      };
      xhr.onerror = function () {
        console.error("Network Error");
      };
      xhr.send();
    }

    function displayUser(user) {
      document.getElementById("user").innerHTML = `
        <h2>${user.name.first} ${user.name.last}</h2>
        <img src="${user.picture.large}" alt="${user.name.first} ${user.name.last}">
    `;
    }

    getUser();
  </script>
</html>
