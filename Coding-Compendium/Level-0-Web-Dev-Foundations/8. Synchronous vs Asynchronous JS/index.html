<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>

<script>
    console.log("Start");
    console.log("Processing...");
    console.log("End");

    setTimeout(() => {
        console.log("Hello after 3 seconds");
    }, 3000);
    
    console.log("End");

    let count = 0;
    const interval = setInterval (() => {
        ++count;
        console.log("Count:", count);
        if (count === 5) {
            clearInterval(interval);
            console.log("Interval cleared");
        }
    }, 1000);

    const myPromise = new Promise((resolve, reject) => {
        let success = true;
        setTimeout(() => {
            if (success) {
            resolve("Data loaded successfully");
            } else {
                reject("Error loading data");
            }
        }, 2000);
    });

    myPromise 
        .then((response)=>{
            if (response === "Data loaded successfully") {
                return "new value";
            }
        })
        .then((value)=>{
            console.log("Value:", value);
        })
        .catch((error) => {
            console.error("Error:", error);
        });
        
    // function fetchData() {
    //     return new Promise((resolve, reject)=>{
    //         setTimeout(()=>{
    //             let success = Math.random() > 0.5; // Randomly succeed or fail
    //             success ? resolve("Data fetched successfully") : reject("Failed to fetch data");
    //         }, 2000);
    //     });
    // }

    // fetchData()
    //     .then((data)=>console.log(data))
    //     .catch((error)=>console.error(error));

    // async function loadData(){
    //     console.log("Loading data...");
    //     try {
    //         const response = await new Promise((resolve, reject) => {
    //             setTimeout(() => {
    //                 resolve("Data loaded successfully");
    //             }, 3000);
    //         });
    //         console.log(response);
    //     } catch (error) {
    //         console.log(error);
    //     }
    // }

    // loadData();
    // console.log("End of script");

    async function fetchUser(){
        try {
            const response = await fetch (
                "https://jsonplaceholder.typicode.com/users/1");
            const user = await response.json();
            console.log("User:", user);
        }
        catch (error) {
            console.error("Error fetching user:", error);
        }
    }

    fetchUser();
</script>
</html>